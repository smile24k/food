import{a as e}from"./index.d218ba16.js";import{C as a,z as l,D as o,E as s,G as r,H as t,b as n,d,I as m,B as i,v as u,o as p}from"./vendor.809e12b2.js";function g(e){e.msg&&this.$message.warning(e.msg)}const c={name:"Login",setup(){const{proxy:s}=a(),r=l(null),n=l("top");let d=l();const m=o({username:"",password:""}),i=async()=>{if(d.value)return;d.value=!0;const[a,l={}]=await t(e.login(m));return d.value=!1,a?void 0:200!==l.code?g.call(s,l):void 0};return{labelPosition:n,formData:m,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:50,message:"用户名长度在 5 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},loginForm:r,loading:d,submitForm:()=>{r.value.validate((e=>{e||console.log(s.$message.error("账号/密码错误")),i()}))}}}},f=m("data-v-597e04ec");s("data-v-597e04ec");const b={class:"login"},v={class:"login-form-box"},w=i("登 录");r();const x=f(((e,a,l,o,s,r)=>{const t=u("el-input"),m=u("el-form-item"),i=u("el-button"),g=u("el-form");return p(),n("div",b,[d("div",v,[d(g,{ref:"loginForm","label-position":o.labelPosition,"label-width":"80px",model:o.formData,rules:o.rules},{default:f((()=>[d(m,{label:"用户名",prop:"username"},{default:f((()=>[d(t,{modelValue:o.formData.username,"onUpdate:modelValue":a[1]||(a[1]=e=>o.formData.username=e),placeholder:"手机号/账号",maxlength:"20"},null,8,["modelValue"])])),_:1}),d(m,{label:"密码",prop:"password"},{default:f((()=>[d(t,{modelValue:o.formData.password,"onUpdate:modelValue":a[2]||(a[2]=e=>o.formData.password=e),placeholder:"密码",maxlength:"12",type:"password"},null,8,["modelValue"])])),_:1}),d(m,null,{default:f((()=>[d(i,{type:"primary",size:"medium",round:"",onClick:o.submitForm,loading:o.loading},{default:f((()=>[w])),_:1},8,["onClick","loading"])])),_:1})])),_:1},8,["label-position","model","rules"])])])}));c.render=x,c.__scopeId="data-v-597e04ec";export{c as default};
